{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\Final project\\\\Prav_GitHub\\\\E-Com-Electronics-Hub\\\\Client Side\\\\React_App\\\\src\\\\components\\\\LoginComp.js\",\n  _s = $RefreshSig$();\nimport { useReducer, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginComp() {\n  _s();\n  const init = {\n    uid: \"\",\n    pwd: \"\"\n  };\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'update':\n        return {\n          ...state,\n          [action.fld]: action.val\n        };\n      case 'reset':\n        return init;\n    }\n  };\n  const [info, dispatch] = useReducer(reducer, init);\n  const [msg, setMsg] = useState(\"\");\n  const navigate = useNavigate();\n  const reduxAction = useDispatch(); //...........\n\n  const handleChange = (e, field) => {\n    dispatch({\n      type: 'update',\n      fld: field,\n      val: e.target.value\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    // Your login submission logic here\n  };\n  const handleClear = () => {\n    dispatch({\n      type: 'reset'\n    });\n  };\n  const sendData = e => {\n    e.preventDefault();\n    const reqOptions = {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: info.uid,\n        password: info.pwd\n      })\n    };\n    fetch(\"http://localhost:8080/checkUser\", reqOptions).then(resp => {\n      console.log(resp.status);\n      if (resp.ok) {\n        console.log(resp.status);\n        return resp.json();\n      } else {\n        //console.log(resp.statusText);\n        throw new Error(\"Server Error\");\n      }\n    }).then(obj => {\n      if (obj === null) {\n        setMsg(\"Wrong UID/PWD\");\n      } else {\n        reduxAction(login());\n        if (obj.activation_status === false) {\n          alert(\"Request has not been approved\");\n        } else {\n          if (obj.role.role_id === 1) {\n            navigate(\"/admin_home\");\n          } else if (obj.role.role_id === 2) {\n            navigate(\"/customer_home\");\n          } else if (obj.role.role_id === 3) {\n            navigate(\"/seller_home\");\n          }\n        }\n      }\n    }).catch(error => alert(\"Error : \" + error.toString()));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Login Page \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"uid\",\n          className: \"form-label\",\n          children: \"Enter User Name :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"uid\",\n          name: \"uid\",\n          value: info.uid,\n          onChange: e => handleChange(e, 'uid')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 146\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"emailHelp\",\n          className: \"form-text\",\n          children: \"We'll never share email with anyone else.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"pwd\",\n          className: \"form-label\",\n          children: \"Enter Password :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          id: \"pwd\",\n          name: \"pwd\",\n          value: info.pwd,\n          onChange: e => handleChange(e, 'pwd')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"pwdHelp\",\n          className: \"form-text\",\n          children: \"...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary mb-3\",\n        onClick: e => {\n          sendData(e);\n        },\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary mb-3\",\n        onClick: handleClear,\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: JSON.stringify(info)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginComp, \"a6nZER/AiKGKhE11TG+YD6e58gM=\", true, function () {\n  return [useNavigate];\n});\n_c = LoginComp;\nvar _c;\n$RefreshReg$(_c, \"LoginComp\");","map":{"version":3,"names":["useReducer","useState","useNavigate","jsxDEV","_jsxDEV","LoginComp","_s","init","uid","pwd","reducer","state","action","type","fld","val","info","dispatch","msg","setMsg","navigate","reduxAction","useDispatch","handleChange","e","field","target","value","handleSubmit","preventDefault","handleClear","sendData","reqOptions","method","headers","body","JSON","stringify","username","password","fetch","then","resp","console","log","status","ok","json","Error","obj","login","activation_status","alert","role","role_id","catch","error","toString","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","className","htmlFor","id","name","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/Final project/Prav_GitHub/E-Com-Electronics-Hub/Client Side/React_App/src/components/LoginComp.js"],"sourcesContent":["import { useReducer, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function LoginComp (){\r\n\r\n\r\n    const init = {\r\n        uid: \"\",\r\n        pwd: \"\"\r\n    }\r\n\r\n    \r\n\r\n    const reducer = (state, action) => {\r\n            switch(action.type)\r\n            {\r\n                case 'update':\r\n                    return {...state , [action.fld]:action.val}\r\n                    case 'reset' :\r\n                        return init;\r\n            }\r\n    }\r\n\r\n\r\n\r\n    const [info, dispatch] = useReducer(reducer,init) ;\r\n    const [msg, setMsg] = useState(\"\");\r\n    const navigate = useNavigate();\r\n    const reduxAction = useDispatch();  //...........\r\n\r\n    const handleChange = (e, field) => {\r\n        dispatch({ type: 'update', fld: field, val: e.target.value });\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // Your login submission logic here\r\n    }\r\n\r\n    const handleClear = () => {\r\n        dispatch({ type: 'reset' });\r\n    }\r\n    \r\n\r\n    const sendData = (e) => {\r\n        e.preventDefault();\r\n        const reqOptions = {\r\n            method: 'POST',\r\n            headers: {'content-type':'application/json'},\r\n            body: JSON.stringify({\r\n                username  : info.uid,\r\n                password : info.pwd\r\n            })\r\n        }\r\n        fetch(\"http://localhost:8080/checkUser\",reqOptions)\r\n        .then(resp =>  {\r\n            console.log(resp.status)\r\n            if(resp.ok)\r\n            {\r\n                console.log(resp.status);\r\n                return resp.json();\r\n            }\r\n            else\r\n            {\r\n                //console.log(resp.statusText);\r\n                throw new Error(\"Server Error\");\r\n            }\r\n        })\r\n        .then(obj => {\r\n                    if(obj === null)\r\n                    {\r\n                        setMsg(\"Wrong UID/PWD\");\r\n                    }\r\n                    else\r\n                    {\r\n                        reduxAction(login())\r\n                        if(obj.activation_status === false)\r\n                        {\r\n                            alert(\"Request has not been approved\");\r\n                        }\r\n                        else{\r\n                            if(obj.role.role_id === 1)\r\n                            {\r\n                                navigate(\"/admin_home\");\r\n                            }\r\n                            else if (obj.role.role_id === 2)\r\n                            {\r\n                                navigate(\"/customer_home\");\r\n                            }\r\n                            else if (obj.role.role_id === 3)\r\n                            {\r\n                                navigate(\"/seller_home\");\r\n                            }\r\n                            \r\n                        }\r\n                    }\r\n        })\r\n        .catch((error)=> alert(\"Error : \"+error.toString()))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1> Login Page </h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"uid\" className=\"form-label\">Enter User Name :</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"uid\" name=\"uid\" value={info.uid} onChange={(e) => handleChange(e, 'uid')} /> <br />\r\n                    <div id=\"emailHelp\" className=\"form-text\">We'll never share email with anyone else.</div>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"pwd\" className=\"form-label\">Enter Password :</label>\r\n                    <input type=\"password\" className=\"form-control\" id=\"pwd\" name=\"pwd\" value={info.pwd} onChange={(e) => handleChange(e, 'pwd')} />\r\n                    <div id=\"pwdHelp\" className=\"form-text\">...</div>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary mb-3\" onClick={(e)=> {sendData(e)}}>Submit</button>\r\n                <button type=\"button\" className=\"btn btn-primary mb-3\" onClick={handleClear}>Clear</button>\r\n            </form>\r\n            <p>{JSON.stringify(info)}</p>\r\n            <p>{msg}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}